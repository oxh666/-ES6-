# -ES6-

不定时更新

## 第一天

### 查看node.js不同版本已实现ES6特性的指令 ==> $ node --v8-options | grep harmony

### let命令

###### 用来声明变量，仅在let所在的代码块中生效（局部） ---作用：减少运行时错误，防止在变量声明前就使用这个变量， 从而导致意料之外的行为

2.1  不存在变量提升，在声明前使用，会报错 //ReferenceError

2.2  暂时性死区，在代码块中，使用LET命令声明变量之前，该变量是不可用的简称TDZ（暂时性死区），即便有一个全局同名变量

2.3  不允许重复声明，
    

## 第二天

### 块级作用域

ES5只有全局作用域和函数作用域，有很多不合理的场景

 场景一：内层变量可能会覆盖外层变量

 场景二：用来计数的循环变量泄露为全局变量

### ES6作用域

​	let实际上为JS新增了块级作用域

​	ES6允许块级作用域的任意嵌套，但是外层作用域无法读取内层作用域的变量，内层作用域可以定义外层作用域的同名变量



### 块级作用域与函数声明

ES5 规定， 函数只能在顶层作用域和函数作用域之中声明， 不能在块级作用域声明



ES6 引入了块级作用域， 明确允许在块级作用域之中声明函数。 ES6 规定， 块级作用域之中， 函数声明语句的行为类似于 let ， 在块级作用域之外不可引用。

1. 允许在块级作用域内声明函数。
2. 函数声明类似于 var ， 即会提升到全局作用域或函数作用域的头部。
3. 同时， 函数声明还会提升到所在的块级作用域的头部。

### do表达式

```js
let a = {
  let b = 1
}
```

a获取不到b的值,因为块级作用域不返回值

```js
let a = do {
    let b = 1
}
```

现在一个提案在块级作用域前加do,即可得到返回值（a可以获得b的值）
